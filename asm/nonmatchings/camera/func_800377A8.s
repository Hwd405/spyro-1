.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel func_800377A8
/* 27FA8 800377A8 0780023C */  lui        $v0, %hi(g_LoadStage)
/* 27FAC 800377AC 6458428C */  lw         $v0, %lo(g_LoadStage)($v0)
/* 27FB0 800377B0 D0FFBD27 */  addiu      $sp, $sp, -0x30
/* 27FB4 800377B4 2800B2AF */  sw         $s2, 0x28($sp)
/* 27FB8 800377B8 21900000 */  addu       $s2, $zero, $zero
/* 27FBC 800377BC 2C00BFAF */  sw         $ra, 0x2C($sp)
/* 27FC0 800377C0 2400B1AF */  sw         $s1, 0x24($sp)
/* 27FC4 800377C4 1A004104 */  bgez       $v0, .L80037830
/* 27FC8 800377C8 2000B0AF */   sw        $s0, 0x20($sp)
/* 27FCC 800377CC 0880033C */  lui        $v1, %hi(g_Spyro + 0x78)
/* 27FD0 800377D0 D08A638C */  lw         $v1, %lo(g_Spyro + 0x78)($v1)
/* 27FD4 800377D4 06000224 */  addiu      $v0, $zero, 0x6
/* 27FD8 800377D8 77006210 */  beq        $v1, $v0, .L800379B8
/* 27FDC 800377DC 10000224 */   addiu     $v0, $zero, 0x10
/* 27FE0 800377E0 75006210 */  beq        $v1, $v0, .L800379B8
/* 27FE4 800377E4 E0FF6224 */   addiu     $v0, $v1, -0x20
/* 27FE8 800377E8 0200422C */  sltiu      $v0, $v0, 0x2
/* 27FEC 800377EC 72004014 */  bnez       $v0, .L800379B8
/* 27FF0 800377F0 22000224 */   addiu     $v0, $zero, 0x22
/* 27FF4 800377F4 70006210 */  beq        $v1, $v0, .L800379B8
/* 27FF8 800377F8 0F000224 */   addiu     $v0, $zero, 0xF
/* 27FFC 800377FC 6E006210 */  beq        $v1, $v0, .L800379B8
/* 28000 80037800 1D000224 */   addiu     $v0, $zero, 0x1D
/* 28004 80037804 6C006210 */  beq        $v1, $v0, .L800379B8
/* 28008 80037808 00000000 */   nop
/* 2800C 8003780C 0880023C */  lui        $v0, %hi(g_Spyro + 0x78)
/* 28010 80037810 D08A428C */  lw         $v0, %lo(g_Spyro + 0x78)($v0)
/* 28014 80037814 0780013C */  lui        $at, %hi(D_8006C588)
/* 28018 80037818 21082200 */  addu       $at, $at, $v0
/* 2801C 8003781C 88C52290 */  lbu        $v0, %lo(D_8006C588)($at)
/* 28020 80037820 0780013C */  lui        $at, %hi(g_Camera + 0xC0)
/* 28024 80037824 906E22AC */  sw         $v0, %lo(g_Camera + 0xC0)($at)
/* 28028 80037828 6EDE0008 */  j          .L800379B8
/* 2802C 8003782C 00000000 */   nop
.L80037830:
/* 28030 80037830 0780113C */  lui        $s1, %hi(g_Camera + 0xEC)
/* 28034 80037834 BC6E3126 */  addiu      $s1, $s1, %lo(g_Camera + 0xEC)
/* 28038 80037838 0000228E */  lw         $v0, 0x0($s1)
/* 2803C 8003783C 00000000 */  nop
/* 28040 80037840 25004010 */  beqz       $v0, .L800378D8
/* 28044 80037844 3CFF3126 */   addiu     $s1, $s1, -0xC4
/* 28048 80037848 1000A427 */  addiu      $a0, $sp, 0x10
/* 2804C 8003784C 21282002 */  addu       $a1, $s1, $zero
/* 28050 80037850 0880103C */  lui        $s0, %hi(g_Spyro)
/* 28054 80037854 588A1026 */  addiu      $s0, $s0, %lo(g_Spyro)
/* 28058 80037858 E35D000C */  jal        VecSub
/* 2805C 8003785C 21300002 */   addu      $a2, $s0, $zero
/* 28060 80037860 1000A427 */  addiu      $a0, $sp, 0x10
/* 28064 80037864 7F5C000C */  jal        func_800171FC
/* 28068 80037868 01000524 */   addiu     $a1, $zero, 0x1
/* 2806C 8003786C 1000A427 */  addiu      $a0, $sp, 0x10
/* 28070 80037870 21282002 */  addu       $a1, $s1, $zero
/* 28074 80037874 8C000626 */  addiu      $a2, $s0, 0x8C
/* 28078 80037878 E35D000C */  jal        VecSub
/* 2807C 8003787C 21804000 */   addu      $s0, $v0, $zero
/* 28080 80037880 0780023C */  lui        $v0, %hi(g_Camera + 0xEC)
/* 28084 80037884 BC6E428C */  lw         $v0, %lo(g_Camera + 0xEC)($v0)
/* 28088 80037888 00000000 */  nop
/* 2808C 8003788C 3400428C */  lw         $v0, 0x34($v0)
/* 28090 80037890 00000000 */  nop
/* 28094 80037894 2A105000 */  slt        $v0, $v0, $s0
/* 28098 80037898 06004010 */  beqz       $v0, .L800378B4
/* 2809C 8003789C 1000A427 */   addiu     $a0, $sp, 0x10
/* 280A0 800378A0 7F5C000C */  jal        func_800171FC
/* 280A4 800378A4 01000524 */   addiu     $a1, $zero, 0x1
/* 280A8 800378A8 2A105000 */  slt        $v0, $v0, $s0
/* 280AC 800378AC 0A004014 */  bnez       $v0, .L800378D8
/* 280B0 800378B0 00000000 */   nop
.L800378B4:
/* 280B4 800378B4 0880053C */  lui        $a1, %hi(g_Spyro)
/* 280B8 800378B8 588AA524 */  addiu      $a1, $a1, %lo(g_Spyro)
/* 280BC 800378BC A95E000C */  jal        func_80017AA4
/* 280C0 800378C0 1000A427 */   addiu     $a0, $sp, 0x10
/* 280C4 800378C4 1400A28F */  lw         $v0, 0x14($sp)
/* 280C8 800378C8 00000000 */  nop
/* 280CC 800378CC F1004228 */  slti       $v0, $v0, 0xF1
/* 280D0 800378D0 02004014 */  bnez       $v0, .L800378DC
/* 280D4 800378D4 00000000 */   nop
.L800378D8:
/* 280D8 800378D8 01001224 */  addiu      $s2, $zero, 0x1
.L800378DC:
/* 280DC 800378DC 06004016 */  bnez       $s2, .L800378F8
/* 280E0 800378E0 0080033C */   lui       $v1, (0x8000000E >> 16)
/* 280E4 800378E4 0780023C */  lui        $v0, %hi(g_Camera + 0x58)
/* 280E8 800378E8 286E428C */  lw         $v0, %lo(g_Camera + 0x58)($v0)
/* 280EC 800378EC 0E006334 */  ori        $v1, $v1, (0x8000000E & 0xFFFF)
/* 280F0 800378F0 31004310 */  beq        $v0, $v1, .L800379B8
/* 280F4 800378F4 00000000 */   nop
.L800378F8:
/* 280F8 800378F8 CB89010C */  jal        rand
/* 280FC 800378FC 00000000 */   nop
/* 28100 80037900 FF0F5230 */  andi       $s2, $v0, 0xFFF
/* 28104 80037904 40101200 */  sll        $v0, $s2, 1
/* 28108 80037908 21105200 */  addu       $v0, $v0, $s2
/* 2810C 8003790C 03930200 */  sra        $s2, $v0, 12
/* 28110 80037910 0780103C */  lui        $s0, %hi(g_Camera + 0xEC)
/* 28114 80037914 BC6E1026 */  addiu      $s0, $s0, %lo(g_Camera + 0xEC)
/* 28118 80037918 C0101200 */  sll        $v0, $s2, 3
/* 2811C 8003791C 23105200 */  subu       $v0, $v0, $s2
/* 28120 80037920 C0100200 */  sll        $v0, $v0, 3
/* 28124 80037924 0780053C */  lui        $a1, %hi(D_8006EB24)
/* 28128 80037928 24EBA524 */  addiu      $a1, $a1, %lo(D_8006EB24)
/* 2812C 8003792C 0000038E */  lw         $v1, 0x0($s0)
/* 28130 80037930 21104500 */  addu       $v0, $v0, $a1
/* 28134 80037934 0A006214 */  bne        $v1, $v0, .L80037960
/* 28138 80037938 5555023C */   lui       $v0, (0x55555556 >> 16)
/* 2813C 8003793C 56554234 */  ori        $v0, $v0, (0x55555556 & 0xFFFF)
/* 28140 80037940 01004326 */  addiu      $v1, $s2, 0x1
/* 28144 80037944 18006200 */  mult       $v1, $v0
/* 28148 80037948 C3170300 */  sra        $v0, $v1, 31
/* 2814C 8003794C 10380000 */  mfhi       $a3
/* 28150 80037950 2390E200 */  subu       $s2, $a3, $v0
/* 28154 80037954 40101200 */  sll        $v0, $s2, 1
/* 28158 80037958 21105200 */  addu       $v0, $v0, $s2
/* 2815C 8003795C 23906200 */  subu       $s2, $v1, $v0
.L80037960:
/* 28160 80037960 C0201200 */  sll        $a0, $s2, 3
/* 28164 80037964 23209200 */  subu       $a0, $a0, $s2
/* 28168 80037968 C0200400 */  sll        $a0, $a0, 3
/* 2816C 8003796C C5DD000C */  jal        func_80037714
/* 28170 80037970 21208500 */   addu      $a0, $a0, $a1
/* 28174 80037974 0000058E */  lw         $a1, 0x0($s0)
/* 28178 80037978 0880043C */  lui        $a0, %hi(g_Spyro)
/* 2817C 8003797C 588A8424 */  addiu      $a0, $a0, %lo(g_Spyro)
/* 28180 80037980 C05D000C */  jal        VecCopy
/* 28184 80037984 00000000 */   nop
/* 28188 80037988 0780033C */  lui        $v1, %hi(g_Camera + 0xEC)
/* 2818C 8003798C BC6E638C */  lw         $v1, %lo(g_Camera + 0xEC)($v1)
/* 28190 80037990 00000000 */  nop
/* 28194 80037994 0C00628C */  lw         $v0, 0xC($v1)
/* 28198 80037998 0880013C */  lui        $at, %hi(g_Spyro + 0x124)
/* 2819C 8003799C 7C8B22AC */  sw         $v0, %lo(g_Spyro + 0x124)($at)
/* 281A0 800379A0 1000628C */  lw         $v0, 0x10($v1)
/* 281A4 800379A4 0880013C */  lui        $at, %hi(g_Spyro + 0x120)
/* 281A8 800379A8 788B22AC */  sw         $v0, %lo(g_Spyro + 0x120)($at)
/* 281AC 800379AC 1400628C */  lw         $v0, 0x14($v1)
/* 281B0 800379B0 0880013C */  lui        $at, %hi(g_Spyro + 0x11C)
/* 281B4 800379B4 748B22AC */  sw         $v0, %lo(g_Spyro + 0x11C)($at)
.L800379B8:
/* 281B8 800379B8 0780023C */  lui        $v0, %hi(g_Camera + 0xEC)
/* 281BC 800379BC BC6E428C */  lw         $v0, %lo(g_Camera + 0xEC)($v0)
/* 281C0 800379C0 00000000 */  nop
/* 281C4 800379C4 3000438C */  lw         $v1, 0x30($v0)
/* 281C8 800379C8 01000224 */  addiu      $v0, $zero, 0x1
/* 281CC 800379CC 0D006214 */  bne        $v1, $v0, .L80037A04
/* 281D0 800379D0 1000A427 */   addiu     $a0, $sp, 0x10
/* 281D4 800379D4 0880053C */  lui        $a1, %hi(g_Spyro)
/* 281D8 800379D8 588AA524 */  addiu      $a1, $a1, %lo(g_Spyro)
/* 281DC 800379DC 0780103C */  lui        $s0, %hi(g_Camera + 0x28)
/* 281E0 800379E0 F86D1026 */  addiu      $s0, $s0, %lo(g_Camera + 0x28)
/* 281E4 800379E4 E35D000C */  jal        VecSub
/* 281E8 800379E8 21300002 */   addu      $a2, $s0, $zero
/* 281EC 800379EC C2CF000C */  jal        func_80033F08
/* 281F0 800379F0 21200002 */   addu      $a0, $s0, $zero
/* 281F4 800379F4 0780013C */  lui        $at, %hi(g_Camera + 0xE8)
/* 281F8 800379F8 B86E22AC */  sw         $v0, %lo(g_Camera + 0xE8)($at)
/* 281FC 800379FC BED0000C */  jal        func_800342F8
/* 28200 80037A00 00000000 */   nop
.L80037A04:
/* 28204 80037A04 2C00BF8F */  lw         $ra, 0x2C($sp)
/* 28208 80037A08 2800B28F */  lw         $s2, 0x28($sp)
/* 2820C 80037A0C 2400B18F */  lw         $s1, 0x24($sp)
/* 28210 80037A10 2000B08F */  lw         $s0, 0x20($sp)
/* 28214 80037A14 3000BD27 */  addiu      $sp, $sp, 0x30
/* 28218 80037A18 0800E003 */  jr         $ra
/* 2821C 80037A1C 00000000 */   nop
.size func_800377A8, . - func_800377A8
